KISSY.add("app/views/pages/discovery/article_list",function(t,e,a,i,s,l){l.all;return function(t){return t.prototype.template='<ul class=article-list bx-name="code_prettify" bx-path="components/code_prettify/"> {{#list}} <li class=list-item> <div class=hd> <h3 class=title> <a href="#!/pages/discovery/article_detail?id={{_id}}">{{title}}</a> </h3> <div class=meta> <span class=date>{{publishDate}}</span> <span class=divide></span> <a class=tag href="#!/pages/tags/tags?tag={{tag}}">{{tag}}</a> </div> </div> <div class="bd markdown-body"> {{{content}}} </div> <div class=ft> <a href="#!/pages/discovery/article_detail?id={{_id}}" class=continue-reading>Read more \u2192</a> </div> </li> {{/list}} {{^list}} <li class=no-data> \u55ef\uff0c\u4ec0\u4e48\u90fd\u8fd8\u6ca1\u5199~ </li> {{/list}} </ul>',t}(e.extend({locationChange:function(){this.render()},render:function(){var t=this;t.manage(a.fetchAll([{name:"article_list",urlParams:{type:"discovery"}}],function(e,a){for(var i=a.get("data"),s=0;s<i.length;s++)i[s].content=i[s].content.replace(/<[^>]+>/g,""),i[s].content=i[s].content.substring(0,300)+" ... ...";t.setViewPagelet({list:i})}))}}))},{requires:["mxext/view","app/models/modelmanager","magix/vom","magix/router","node","app/util/util"]});