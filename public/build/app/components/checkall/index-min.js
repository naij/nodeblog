KISSY.add("components/checkall/index",function(e,t){var c=e.all,a=t.extend({bindUI:function(){var e=this.get("el"),t=e.all(".check-trigger"),c=e.all(".check-item"),a=c.length,l=this.get("initCheck"),i=this;l?c.each(function(e,c){return e.attr("checked")||e.attr("disabled")?void(c===a-1&&i._setValue(t,!0)):!1}):(t.attr("checked",!1),c.attr("checked",!1))},_setValue:function(e,t){e.length>1?e.each(function(e){e.attr("checked",t)}):e.attr("checked",t)}},{ATTRS:{initCheck:{value:!1}},EVENTS:{".check-item":{click:function(e){var t=this,l=t.get("el"),i=e.currentTarget,n=l.all(".check-trigger"),r=l.all(".check-item"),h=r.length,k={};i.checked?r.each(function(e,c){return e.attr("checked")||e.attr("disabled")?void(c===h-1&&t._setValue(n,!0)):!1}):t._setValue(n,!1),k.node=c(i),k.value=c(i).val(),t.fire(a.FIRES.singleCheck,{data:k})}},".check-trigger":{click:function(e){var t=this,c=t.get("el"),l=e.currentTarget,i=c.all(".check-item"),n=l.checked,r=[];i.each(function(e){if(!e.attr("disabled")){t._setValue(e,n);var c={};c.node=e,c.value=e.val(),r.push(c)}}),t.fire(a.FIRES.checkAll,{data:r})}}}});return a.FIRES={checkAll:"checkAll",singleCheck:"singleCheck"},a.METHODS={getData:function(){var e=this,t=e.get("el"),c=t.all(".check-item"),a=[];return c.each(function(e){e.attr("disabled")||e.attr("checked")&&a.push(e.val())}),a}},e.augment(a,a.METHODS),a},{requires:["brix/core/brick"]});