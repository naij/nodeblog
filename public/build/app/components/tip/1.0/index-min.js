KISSY.add("components/tip/1.0/index",function(e,i,n,t){function o(){this.args=Array.prototype.slice.call(arguments,0),o.superclass.constructor.apply(this,arguments)}return o.ATTRS={defaultConfig:{value:{status:"ok",msg:"",autoHide:!1,close:!0,border:!0,background:!0,icon:!0,anim:!0,delay:3e3},getter:function(e){return e}}},o.METHODS={show:function(){var e=this,i=e.box,n=e.config;n.anim?i.fadeIn(1,function(){e.fire("show")}):(i.show(),e.fire("show"))},hide:function(){var e=this,i=e.box,n=e.config;e._clearTimeout(),n.anim?i.fadeOut(1,function(){e.fire("hide")}):(i.hide(),e.fire("hide"))}},e.extend(o,t,{initialize:function(){var i=this.args[0],n=this.args[1],t=e.one(i);t||(t=e.Node("<div></div>").attr("id",e.guid("tip")),e.one("body").append(t)),this.box=t,this.config=e.merge(this.get("defaultConfig"),n),this.config.id=this.box.attr("id"),this._render()},_render:function(){var i=this,t=new n.Defer,r=t.promise,s=i.config;r.then(function(){i._renderUI()}).then(function(){i._bindUI()}).then(function(){i._clearTimeout();var t=new n.Defer;return e.later(function(){i.show(),t.resolve()},0),t.promise}).then(function(){var t=new n.Defer;if(s.autoHide)return o.timer[s.id]=e.later(function(){i.hide(),t.resolve()},s.delay),t.promise}).fin(function(){i._clearTimeout()}),t.resolve()},_renderUI:function(){var e=this,i=e.box,n=e.config;i.attr("style","").addClass("med-tip").addClass("med-tip-ie");var t='<p class="'+n.status+(n.border?"":" noborder")+(n.background?"":" nobackground")+(n.icon?"":" noicon")+(n.close?"":" noclose")+(""==n.msg?" nocontent":"")+'">'+(n.icon?'<i class="icon"></i>':"")+'<span class="msg">'+n.msg+"</span>"+(n.close?'<a href="#" class="close"></a>':"")+"</p>";i.html(t)},_bindUI:function(){var e=this,i=e.box,n=e.config;n.close&&i.one(".close").on("click",function(i){i.halt(),e.hide()})},_clearTimeout:function(){var e=this.config;o.timer[e.id]&&(clearTimeout(o.timer[e.id]),delete o.timer[e.id])},_destructor:function(){this.box.html("")}}),e.mix(o,{timer:{}}),e.augment(o,o.METHODS),o},{requires:["node","promise","brix/core/brick","sizzle","components/tip/1.0/tip.css"]});