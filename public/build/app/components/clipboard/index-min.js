KISSY.add("components/clipboard/index",function(t,e,n,i){function o(){o.superclass.constructor.apply(this,arguments)}var a=t.all;return t.extend(o,e,{initialize:function(){var e=this,n=t.Node('<div class="getcode-box"></div>'),i=t.Node('<div class="clipboard-tip"></div>'),o=t.Node('<div class="swf-container"></div>'),a=e.get("el");n.insertBefore(a),n.append(i),n.append(o),n.append(a),e.swfID=e._stamp(o),e.getCodeBox=n,e.clipboardTip=i,e.swfContainer=o,e.bind()},bind:function(){var t=this,e=(t.getCodeBox,t.clipboardTip),o=(t.swfContainer,t.swfID),s=t.get("el"),r=s.outerWidth(),d=s.outerHeight(),c=new n(o,{src:"http://a.tbcdn.cn/apps/med/kissy/1.2/ajbridge/clipboard/clipboard.swf",params:{bgcolor:"#FFCCCC",wmode:"transparent",scale:"showall"},attrs:{width:r,height:d},hand:!0,btn:!0});c.on("mouseDown",function(){var t=s.val();if(t)c.setData(t),c.getData()!==t?window.prompt("\u60a8\u7684\u6d4f\u89c8\u5668\u4e0d\u652f\u6301\u81ea\u52a8\u590d\u5236",t):s.attr("data-content",c.getData()),s.select();else{new i(e,{msg:"\u60a8\u8981\u590d\u5236\u7684\u5185\u5bb9\u4e3a\u7a7a",border:!0,background:!0,icon:!0,status:"attention",close:!1})}}),c.on("mouseUp",function(){if(s.attr("data-content")){{new i(e,{msg:"\u4ee3\u7801\u590d\u5236\u6210\u529f",border:!1,background:!1,icon:!0,status:"ok",close:!1})}t.fire("copy")}}),a(window).on("resize",function(){t._syncWidth()})},clearTip:function(){var t=this.clipboardTip;t.html("")},clearCnt:function(){var t=this.get("el");t.val("")},_stamp:function(e){return(void 0===e.attr("id")||""===e.attr("id"))&&e.attr("id","swf_"+t.now()),e.attr("id")},_syncWidth:function(){var t=this.swfContainer,e=this.get("el"),n=e.outerWidth(),i=e.outerHeight();t.one("embed")&&t.one("embed").css({width:n,height:i}),t.one("object")&&t.one("object").css({width:n,height:i})}}),o},{requires:["brix/core/brick","components/clipboard_lib/index","components/tip/1.0/index","components/clipboard/index.css"]});