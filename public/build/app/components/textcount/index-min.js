KISSY.add("components/textcount/index",function(t,n){function e(){e.superclass.constructor.apply(this,arguments)}var u=t.all;return e.ATTRS={},e.EVENTS={},t.extend(e,n,{initialize:function(){var t=this,n=this.get("input");if(n){var e=u(this.get("input")),i=this.get("el");i.html(this._countResult(e.val())),e.on("keyup",function(){i.html(t._countResult(e.val()))})}},count:function(t){var n=t.replace(/[\u4e00-\u9fa5]/g,"*");return n.length},_countResult:function(t){var n=this.count(t),e=this.get("count"),u=n;return n>e&&(u='<em class="textcount-error">'+n+"</em>"),u+"/"+e}}),e},{requires:["brix/core/brick"]});