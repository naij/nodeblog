KISSY.add("components/couple_select/index",function(e,t,a){var r=a.all,l=t.extend({bindUI:function(){var e=this.get("el");this.source=e.one(".source"),this.target=e.one(".target")}},{ATTRS:{sourceVal:{value:[]}},EVENTS:{".add":{click:function(t){t.preventDefault();var a=this,n=(a.get("el"),a.source,a.target),i=a.get("sourceVal"),s='<li val="{val}"><a href="#" class="blue-link del">\u5220\u9664</a><span class="title">{text}</span></li>',c=r(t.currentTarget),d=c.parent().attr("val"),u=c.parent().attr("text");if(!e.inArray(d,i)){i.push(d),c.parent().addClass("selected");var o=e.Node(e.substitute(s,{val:d,text:u}));n.one("ul").append(o),a.fire(l.FIRES.add,{data:i})}}},".del":{click:function(t){t.preventDefault();var a=this,n=a.source,i=a.get("sourceVal"),s=r(t.currentTarget),c=s.parent().attr("val");if(e.inArray(c,i)){var d=e.indexOf(c,i);i.splice(d,1),s.parent().remove(),n.all("li").each(function(e){e.attr("val")==c&&e.removeClass("selected")}),a.fire(l.FIRES.del,{data:i})}}}}});return l.FIRES={add:"add",del:"del"},l},{requires:["brix/core/brick","node"]});